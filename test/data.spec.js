global.window = global;
global.assert = require('chai').assert;
require('../src/data');
require('./data.spec.js');
require('../src/data.js');

const input = [
  {
    "data": {
      "1960": "",
      "1961": 54.2200012207031,
      "1962": "",
      "1963": "",
      "1964": "",
      "1965": "",
      "1966": "",
      "1967": "",
      "1968": "",
      "1969": "",
      "1970": "",
      "1971": "",
      "1972": 49.9099998474121,
      "1973": "",
      "1974": "",
      "1975": "",
      "1976": "",
      "1977": "",
      "1978": "",
      "1979": 55.2200012207031,
      "1980": 55.189998626709,
      "1981": 55.189998626709,
      "1982": 55.2000007629395,
      "1983": "",
      "1984": 55.2400016784668,
      "1985": 33.2799987792969,
      "1986": 61.8699989318848,
      "1987": 61.2200012207031,
      "1988": 33.9000015258789,
      "1989": 61.2900009155273,
      "1990": 61.5,
      "1991": 57.2599983215332,
      "1992": 58.9000015258789,
      "1993": 51.1699981689453,
      "1994": 60.7799987792969,
      "1995": 62.9199981689453,
      "1996": "",
      "1997": 65.6900024414063,
      "1998": 66.8499984741211,
      "1999": 68.1600036621094,
      "2000": 65.7799987792969,
      "2001": 68.7900009155273,
      "2002": 68.9080963134766,
      "2003": 67.3677978515625,
      "2004": 67.9903030395508,
      "2005": 67.2468032836914,
      "2006": 68.3915023803711,
      "2007": 71.3191986083984,
      "2008": 70.5858001708984,
      "2009": 70.9860000610352,
      "2010": 72.5417022705078,
      "2011": 72.1799011230469,
      "2012": 71.3255996704102,
      "2013": 71.1633987426758,
      "2014": 70.6107025146484,
      "2015": 70.4191970825195,
      "2016": 70.5944976806641,
      "2017": 70.5223999023438
    },
    "countryName": "Perú",
    "countryCode": "PER",
    "indicatorName": "Tasa de participación en la fuerza laboral, total (% de la población total mayor de 15 años) (estimación nacional)",
    "indicatorCode": "SL.TLF.CACT.NE.ZS"
  },
  {
    "data": {
      "1960": "",
      "1961": "",
      "1962": "",
      "1963": "",
      "1964": "",
      "1965": "",
      "1966": "",
      "1967": "",
      "1968": "",
      "1969": "",
      "1970": "",
      "1971": 2.15122008323669,
      "1972": 2.48431992530823,
      "1973": "",
      "1974": "",
      "1975": "",
      "1976": "",
      "1977": 5.11663007736206,
      "1978": 6.08361005783081,
      "1979": "",
      "1980": 8.34525966644287,
      "1981": 9.09467029571533,
      "1982": 9.83487033843994,
      "1983": 10.4100999832153,
      "1984": 10.8674297332764,
      "1985": "",
      "1986": "",
      "1987": "",
      "1988": "",
      "1989": "",
      "1990": "",
      "1991": "",
      "1992": "",
      "1993": 11.7746295928955,
      "1994": 12.1846904754639,
      "1995": 12.7100200653076,
      "1996": 13.847339630127,
      "1997": 14.7216701507568,
      "1998": 15.9961595535278,
      "1999": 17.2146892547607,
      "2000": 18.658519744873,
      "2001": 19.7050094604492,
      "2002": 20.9156703948975,
      "2003": 22.0414009094238,
      "2004": 23.0993499755859,
      "2005": 23.8413505554199,
      "2006": 24.339469909668,
      "2007": 24.8660297393799,
      "2008": 25.4457092285156,
      "2009": 25.8712997436523,
      "2010": 26.7637405395508,
      "2011": 27.5509204864502,
      "2012": 28.7568702697754,
      "2013": 29.5633296966553,
      "2014": 30.3265991210938,
      "2015": 30.8284797668457,
      "2016": 37.2546081542969,
      "2017": ""
    },
    "countryName": "México",
    "countryCode": "MEX",
    "indicatorName": "Inscripción escolar, nivel terciario, mujeres (% bruto)",
    "indicatorCode": "SE.TER.ENRR.FE"
  },
  {
    "data": {
      "1960": 50.2100895062826,
      "1961": 50.1962925961672,
      "1962": 50.1842196898844,
      "1963": 50.1743030983075,
      "1964": 50.1669819690471,
      "1965": 50.1624960687691,
      "1966": 50.1607497080074,
      "1967": 50.161508989269,
      "1968": 50.1646188783756,
      "1969": 50.1699062527233,
      "1970": 50.1771207103497,
      "1971": 50.1862267790563,
      "1972": 50.1969361956843,
      "1973": 50.208498321658,
      "1974": 50.2200113188081,
      "1975": 50.2308936598789,
      "1976": 50.2409995343928,
      "1977": 50.2505323326434,
      "1978": 50.2596392583384,
      "1979": 50.2685794719478,
      "1980": 50.277582674954,
      "1981": 50.2866136237082,
      "1982": 50.2957461867189,
      "1983": 50.305423774944,
      "1984": 50.3161854830437,
      "1985": 50.3283812787938,
      "1986": 50.3420096144917,
      "1987": 50.3569194025226,
      "1988": 50.3730605936575,
      "1989": 50.3903427520102,
      "1990": 50.4086235280292,
      "1991": 50.4279580445882,
      "1992": 50.4481553033639,
      "1993": 50.4684945291902,
      "1994": 50.4880967284162,
      "1995": 50.5063719539127,
      "1996": 50.5231066647642,
      "1997": 50.5385452591745,
      "1998": 50.5531374369833,
      "1999": 50.5675360561314,
      "2000": 50.5822163517933,
      "2001": 50.5972303789347,
      "2002": 50.6124719387531,
      "2003": 50.6280151339956,
      "2004": 50.6439008388188,
      "2005": 50.6601467803661,
      "2006": 50.6768227403307,
      "2007": 50.6938901441996,
      "2008": 50.7111358014156,
      "2009": 50.7282599400282,
      "2010": 50.7450443509674,
      "2011": 50.7614058399747,
      "2012": 50.7773912336678,
      "2013": 50.7930862590807,
      "2014": 50.8086260054587,
      "2015": 50.824106425943,
      "2016": 50.8395352705472,
      "2017": 50.8548605861242
    },
    "countryName": "Brasil",
    "countryCode": "BRA",
    "indicatorName": "Población, mujeres (% del total)",
    "indicatorCode": "SP.POP.TOTL.FE.ZS"
  },
  {
    "data": {
      "1960": "",
      "1961": "",
      "1962": "",
      "1963": "",
      "1964": "",
      "1965": "",
      "1966": "",
      "1967": "",
      "1968": "",
      "1969": "",
      "1970": "",
      "1971": "",
      "1972": "",
      "1973": "",
      "1974": "",
      "1975": "",
      "1976": "",
      "1977": "",
      "1978": "",
      "1979": "",
      "1980": "",
      "1981": "",
      "1982": "",
      "1983": "",
      "1984": "",
      "1985": "",
      "1986": "",
      "1987": "",
      "1988": "",
      "1989": "",
      "1990": 18.8,
      "1991": 17.2,
      "1992": 15.8,
      "1993": 14.6,
      "1994": 13.5,
      "1995": 12.6,
      "1996": 11.8,
      "1997": 11.1,
      "1998": 10.6,
      "1999": 10.2,
      "2000": 9.9,
      "2001": 9.6,
      "2002": 9.5,
      "2003": 9.4,
      "2004": 9.4,
      "2005": 9.4,
      "2006": 9.5,
      "2007": 9.6,
      "2008": 9.8,
      "2009": 10,
      "2010": 10.3,
      "2011": 10.7,
      "2012": 11.2,
      "2013": 11.8,
      "2014": 12.6,
      "2015": 13.5,
      "2016": 14.7,
      "2017": ""
    },
    "countryName": "Chile",
    "countryCode": "CHL",
    "indicatorName": "Prevalencia de anemia entre mujeres no embarazadas (% de mujeres entre 15-49 años)",
    "indicatorCode": "SH.ANM.NPRG.ZS"
  },
];

const output1 = [
  {
    "data": {
      "1960": "",
      "1961": "",
      "1962": "",
      "1963": "",
      "1964": "",
      "1965": "",
      "1966": "",
      "1967": "",
      "1968": "",
      "1969": "",
      "1970": "",
      "1971": "",
      "1972": "",
      "1973": "",
      "1974": "",
      "1975": "",
      "1976": "",
      "1977": "",
      "1978": "",
      "1979": "",
      "1980": "",
      "1981": "",
      "1982": "",
      "1983": "",
      "1984": "",
      "1985": "",
      "1986": 27.7,
      "1987": "",
      "1988": "",
      "1989": "",
      "1990": "",
      "1991": "",
      "1992": 21.6,
      "1993": "",
      "1994": "",
      "1995": "",
      "1996": 17.7,
      "1997": "",
      "1998": "",
      "1999": "",
      "2000": 14.4,
      "2001": "",
      "2002": "",
      "2003": "",
      "2004": "",
      "2005": "",
      "2006": 12.2,
      "2007": "",
      "2008": 12.6,
      "2009": 10.9,
      "2010": 10.3,
      "2011": 9.6,
      "2012": 9.3,
      "2013": 9,
      "2014": 8.6,
      "2015": 6.5,
      "2016": 6,
      "2017": ""
    },
    "countryName": "Perú",
    "countryCode": "PER",
    "indicatorName": "Necesidades de anticoncepción insatisfechas (% de mujeres casadas entre 15 y 49 años de edad)",
    "indicatorCode": "SP.UWT.TFRT"
  },
  {
    "data": {
      "1960": 49.7412220022422,
      "1961": 49.7405035767773,
      "1962": 49.7402183429689,
      "1963": 49.7407162477034,
      "1964": 49.7421598401563,
      "1965": 49.7448412584914,
      "1966": 49.748646088836,
      "1967": 49.7536126003403,
      "1968": 49.7601614654142,
      "1969": 49.7688879987984,
      "1970": 49.7799501839058,
      "1971": 49.7934155973814,
      "1972": 49.808789840365,
      "1973": 49.8255564295153,
      "1974": 49.8429127424629,
      "1975": 49.8603836427817,
      "1976": 49.8777486258549,
      "1977": 49.8948468022071,
      "1978": 49.9114673224068,
      "1979": 49.9273047513511,
      "1980": 49.9422032914111,
      "1981": 49.9559225754817,
      "1982": 49.9685307408655,
      "1983": 49.9801156917872,
      "1984": 49.9908374938965,
      "1985": 50.0007930439709,
      "1986": 50.0101419016066,
      "1987": 50.0187099242005,
      "1988": 50.0259637977906,
      "1989": 50.0312651271551,
      "1990": 50.0342150473453,
      "1991": 50.0347572293915,
      "1992": 50.033326649678,
      "1993": 50.030740741891,
      "1994": 50.0280807766137,
      "1995": 50.026045430119,
      "1996": 50.0248434213908,
      "1997": 50.0242997538366,
      "1998": 50.0243673081321,
      "1999": 50.0247698679163,
      "2000": 50.0254679956433,
      "2001": 50.0264571177643,
      "2002": 50.0278180157439,
      "2003": 50.0293807159822,
      "2004": 50.0308948159481,
      "2005": 50.0322306017521,
      "2006": 50.033390040648,
      "2007": 50.0343869352691,
      "2008": 50.0353467232847,
      "2009": 50.0364429426064,
      "2010": 50.0377872826721,
      "2011": 50.0393985400396,
      "2012": 50.0412713143112,
      "2013": 50.0434064796722,
      "2014": 50.0458377854127,
      "2015": 50.0485296754487,
      "2016": 50.0515298151895,
      "2017": 50.0548320644059
    },
    "countryName": "Perú",
    "countryCode": "PER",
    "indicatorName": "Población, mujeres (% del total)",
    "indicatorCode": "SP.POP.TOTL.FE.ZS"
  },
  {
    "data": {
      "1960": 5004721,
      "1961": 5148262,
      "1962": 5297665,
      "1963": 5452349,
      "1964": 5611421,
      "1965": 5774222,
      "1966": 5940648,
      "1967": 6110779,
      "1968": 6284375,
      "1969": 6461221,
      "1970": 6641178,
      "1971": 6823856,
      "1972": 7009330,
      "1973": 7198621,
      "1974": 7393120,
      "1975": 7593710,
      "1976": 7800831,
      "1977": 8013773,
      "1978": 8230942,
      "1979": 8450073,
      "1980": 8669527,
      "1981": 8888432,
      "1982": 9107129,
      "1983": 9326509,
      "1984": 9548042,
      "1985": 9772633,
      "1986": 10000155,
      "1987": 10229681,
      "1988": 10460377,
      "1989": 10691111,
      "1990": 10920797,
      "1991": 11149309,
      "1992": 11376105,
      "1993": 11599241,
      "1994": 11816310,
      "1995": 12025641,
      "1996": 12226609,
      "1997": 12419736,
      "1998": 12606015,
      "1999": 12786981,
      "2000": 12964040,
      "2001": 13137629,
      "2002": 13308134,
      "2003": 13476784,
      "2004": 13645023,
      "2005": 13814104,
      "2006": 13984304,
      "2007": 14156091,
      "2008": 14331114,
      "2009": 14511323,
      "2010": 14697923,
      "2011": 14891720,
      "2012": 15091930,
      "2013": 15296126,
      "2014": 15500874,
      "2015": 15703562,
      "2016": 15903293,
      "2017": 16100379
    },
    "countryName": "Perú",
    "countryCode": "PER",
    "indicatorName": "Población, mujeres",
    "indicatorCode": "SP.POP.TOTL.FE.IN"
  },
];


describe('filterDataCountries', () => {
  it('debería ser una función', () => {
    assert.equal(typeof WorldBank.filterDataCountries, 'function');
  });

  it('debería retornar un array de objetos de los indicadores filtrados por pais y sector', () => {
     assert.equal(window.WorldBank.filterDataCountries(input), 'PER', 'SP').toBe(output1);
  });
})
